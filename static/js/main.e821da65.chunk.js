(this["webpackJsonpsn-ts"]=this["webpackJsonpsn-ts"]||[]).push([[0],{13:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__3tpU9",dialogsItems:"Dialogs_dialogsItems__ienY8",messages:"Dialogs_messages__3m0ZH",message:"Dialogs_message__3pa39",item:"Dialogs_item__2lstC",ActiveItem:"Dialogs_ActiveItem__tWhqB"}},17:function(e,t,s){},28:function(e,t,s){e.exports={photo:"Users_photo__qY-Gi",selectedPage:"Users_selectedPage__mzLTp"}},30:function(e,t,s){e.exports={header:"Header_header__1riTh",loginBlock:"Header_loginBlock__2AF6M"}},46:function(e,t,s){},47:function(e,t,s){e.exports={info:"ProfileInfo_info__1Kbs0"}},48:function(e,t,s){e.exports={item:"Post_item__3RXIq"}},5:function(e,t,s){e.exports={nav:"NavBar_nav__1i1C_",item:"NavBar_item__1iqZI",ActiveItem:"NavBar_ActiveItem__2m0l5"}},56:function(e,t,s){},57:function(e,t,s){},82:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(18),i=s.n(c),r=(s(56),s(57),s(4)),o=s(5),l=s.n(o),u=s(1),j=function(){return Object(u.jsxs)("div",{className:l.a.nav,children:[Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"/profile",activeClassName:l.a.ActiveItem,className:l.a.item,children:"Profile"})}),Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"/dialogs",activeClassName:l.a.ActiveItem,className:l.a.item,children:"Messages"})}),Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"/news",activeClassName:l.a.ActiveItem,className:l.a.item,children:"News"})}),Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"/users",activeClassName:l.a.ActiveItem,className:l.a.item,children:"Users"})}),Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"/music",activeClassName:l.a.ActiveItem,className:l.a.item,children:"Music"})}),Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"settings",activeClassName:l.a.ActiveItem,className:l.a.item,children:"Settings"})})]})},d=s(2),b=function(){return Object(u.jsx)("span",{children:"News"})},O=function(){return Object(u.jsx)("span",{children:"Settings"})},g=function(){return Object(u.jsx)("span",{children:"Music"})},h=s(94),p=s(49),m=s(3),f={posts:[{message:"\u042f \u0440\u0443\u0441\u0441\u043a\u0438\u0439",id:Object(h.a)(),likesCount:12},{message:"I am not Russian",id:Object(h.a)(),likesCount:1},{message:"I am learn React",id:Object(h.a)(),likesCount:23}],newPostText:"",profile:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var s={message:e.newPostText,id:Object(h.a)(),likesCount:0},n=Object(m.a)({},e);return n.posts=Object(p.a)(e.posts),n.posts.push(s),n.newPostText="",n;case"UPDATE-NEW-POST-TEXT":var a=Object(m.a)({},e);return a.newPostText=t.NewText,a;case"SET-USER-PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});default:return e}},v={dialogsData:[{id:Object(h.a)(),name:"Sasha"},{id:Object(h.a)(),name:"Viktor"},{id:Object(h.a)(),name:"Lesha"},{id:Object(h.a)(),name:"Elena"},{id:Object(h.a)(),name:"Dima"},{id:Object(h.a)(),name:"Ivan"}],messagesData:[{message:"Hi",id:Object(h.a)()},{message:"How are you?",id:Object(h.a)()},{message:"Lets drink beer today",id:Object(h.a)()}],newMessageText:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE-NEW-MESSAGE-TEXT":return e.newMessageText=t.body,Object(m.a)({},e);case"SEND-MESSAGE":var s=e.newMessageText;return e.messagesData.push({message:s,id:Object(h.a)()}),e.newMessageText="",Object(m.a)({},e);default:return e}},T={},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return e},N=(Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),Object(h.a)(),function(e){return{type:"UPDATE-NEW-POST-TEXT",NewText:e}}),S=s(13),E=s.n(S),U=function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)(r.b,{className:E.a.item,activeClassName:E.a.ActiveItem,to:"/dialogs/"+e.id,children:[e.name," "]})})},w=function(e){return Object(u.jsx)("div",{className:E.a.message,children:e.message})},A=function(e){var t=e.dialogsData.map((function(e){return Object(u.jsx)(U,{name:e.name,id:e.id},e.id)})),s=e.messagesData.map((function(e){return Object(u.jsx)(w,{message:e.message},e.id)})),n=e.newMessageText;return Object(u.jsxs)("div",{className:E.a.dialogs,children:[Object(u.jsx)("div",{className:E.a.dialogsItems,children:t}),Object(u.jsxs)("div",{className:E.a.messages,children:[Object(u.jsx)("div",{children:s}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{value:n,onChange:function(t){e.onNewMessageChange(t.currentTarget.value)},placeholder:"Enter your message"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.onSendMessageClick()},children:"Send"})})]})]})]})},_=s(8),I=Object(_.b)((function(e){return{dialogsData:e.DialogsPage.dialogsData,messagesData:e.DialogsPage.messagesData,newMessageText:e.DialogsPage.newMessageText}}),(function(e){return{onNewMessageChange:function(t){e({type:"UPDATE-NEW-MESSAGE-TEXT",body:t})},onSendMessageClick:function(){e({type:"SEND-MESSAGE"})}}}))(A),D=s(20),F=s(21),k=s(24),y=s(23),M={users:[],PageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":var s=Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.UserId?Object(m.a)(Object(m.a)({},e),{},{isFollowed:!0}):e}))});return s;case"UNFOLLOW":var n=Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.UserId?Object(m.a)(Object(m.a)({},e),{},{isFollowed:!1}):e}))});return n;case"SET-USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case"SET-CURRENT-PAGE":return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.Page});case"SET-TOTAL-USERS-COUNT":return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.usersCount});case"TOGGLE-IS-FETCHING ":return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});default:return e}},R=s(15),G=s.n(R),B=s.p+"static/media/user-png-image-9.ab7efdc7.png",z=s(28),W=s.n(z),H=function(e){for(var t=Math.ceil(e.totalUsersCount/e.PageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:s.map((function(t){return Object(u.jsx)("span",{onClick:function(s){e.onPageChanged(t)},className:e.currentPage===t?W.a.selectedPage:"",children:t})}))}),e.users.map((function(t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:Object(u.jsx)("div",{children:Object(u.jsx)(r.b,{to:"/profile/"+t.id,children:Object(u.jsx)("img",{src:null!=t.photos.small?t.photos.small:B,className:W.a.photo})})})}),Object(u.jsx)("span",{children:Object(u.jsx)("div",{children:t.isFollowed?Object(u.jsx)("button",{onClick:function(){return e.unFollow(t.id)},children:"Unfollow"}):Object(u.jsx)("button",{onClick:function(){return e.follow(t.id)},children:"Follow"})})}),Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:t.name}),Object(u.jsx)("div",{children:t.status})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:"u.location.city"}),Object(u.jsx)("div",{children:"u.location.country"})]})]})]},t.id)}))]})},q=s(93),X=function(e){Object(k.a)(s,e);var t=Object(y.a)(s);function s(){var e;Object(D.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.toggleIsFetching(!0),G.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.PageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(F.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),G.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.PageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[this.props.isFetching?Object(u.jsx)(q.a,{}):null,Object(u.jsx)(H,{users:this.props.users,setUsers:this.props.setUsers,currentPage:this.props.currentPage,isFetching:this.props.isFetching,follow:this.props.follow,PageSize:this.props.PageSize,setTotalUsersCount:this.props.setTotalUsersCount,setCurrentPage:this.props.setCurrentPage,totalUsersCount:this.props.totalUsersCount,unFollow:this.props.unFollow,onPageChanged:this.onPageChanged})]})}}]),s}(a.a.Component),J=Object(_.b)((function(e){return{users:e.UsersPage.users,PageSize:e.UsersPage.PageSize,totalUsersCount:e.UsersPage.totalUsersCount,currentPage:e.UsersPage.currentPage,isFetching:e.UsersPage.isFetching}}),{follow:function(e){return{type:"FOLLOW",UserId:e}},unFollow:function(e){return{type:"UNFOLLOW",UserId:e}},setUsers:function(e){return{type:"SET-USERS",users:e}},setCurrentPage:function(e){return{type:"SET-CURRENT-PAGE",Page:e}},setTotalUsersCount:function(e){return{type:"SET-TOTAL-USERS-COUNT",usersCount:e}},toggleIsFetching:function(e){return{type:"TOGGLE-IS-FETCHING ",isFetching:e}}})(X),Y=s(46),Z=s.n(Y),K=s(47),V=s.n(K),Q=function(e){return e.profile?Object(u.jsxs)("div",{className:V.a.info,children:[Object(u.jsxs)("div",{children:[" ",e.profile.fullName]}),Object(u.jsx)("img",{src:e.profile.photos.large,alt:""}),Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:e.profile.aboutMe})}),e.profile.lookingForAJob?Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"})," ",Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:e.profile.lookingForAJobDescription})})]}):Object(u.jsx)("span",{children:"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"})]}):Object(u.jsx)(q.a,{color:"secondary"})},$=s(17),ee=s.n($),te=s(48),se=s.n(te),ne=function(e){return Object(u.jsxs)("div",{className:se.a.item,children:[Object(u.jsx)("img",{src:"https://i.pinimg.com/236x/74/05/5f/74055f83bfbdc20fdc1f9d1fc116fd26.jpg"}),e.message,Object(u.jsx)("br",{}),e.likesCount," likes"]})},ae=function(e){var t=e.posts.map((function(e){return Object(u.jsx)(ne,{message:e.message,likesCount:e.likesCount})})),s=a.a.createRef();return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:ee.a.title,children:"My Posts"}),Object(u.jsx)("div",{className:ee.a.area,children:Object(u.jsx)("textarea",{onChange:function(t){e.updateNewPostText(t.currentTarget.value)},value:e.newPostText,ref:s})}),Object(u.jsx)("div",{className:ee.a.addButton,children:Object(u.jsx)("button",{onClick:function(){e.addPost()},children:"Add Post"})}),Object(u.jsx)("div",{className:ee.a.posts,children:t})]})},ce=Object(_.b)((function(e){return{posts:e.ProfilePage.posts,newPostText:e.ProfilePage.newPostText}}),(function(e){return{addPost:function(){e({type:"ADD-POST"})},updateNewPostText:function(t){e(N(t||""))}}}))(ae),ie=function(e){return Object(u.jsxs)("div",{className:Z.a.content,children:[Object(u.jsx)(Q,{profile:e.profile}),Object(u.jsx)(ce,{})]})},re=Object(d.e)((function(e){return Object(n.useEffect)((function(){var t=e.match.params.userId;G.a.get("https://social-network.samuraijs.com/api/1.0/profile/"+t).then((function(t){e.setUserProfile(t.data)}))}),[]),Object(u.jsx)(ie,{profile:e.profile})})),oe=Object(_.b)((function(e){return{profile:e.ProfilePage.profile}}),{setUserProfile:function(e){return{type:"SET-USER-PROFILE",profile:e}}})(re),le=s(30),ue=s.n(le),je=function(e){return Object(u.jsxs)("div",{className:ue.a.header,children:[Object(u.jsx)("img",{src:"https://cdn.logo.com/hotlink-ok/logo-social-sq.png"}),Object(u.jsx)("div",{className:ue.a.loginBlock,children:e.isAuth?e.login:Object(u.jsx)(r.b,{to:"/login",children:"Login"})})]})},de={userId:null,email:"null",login:"null",isFetching:!1,isAuth:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.data),{},{isAuth:!0});default:return e}},Oe=function(e){Object(k.a)(s,e);var t=Object(y.a)(s);function s(){return Object(D.a)(this,s),t.apply(this,arguments)}return Object(F.a)(s,[{key:"componentDidMount",value:function(){var e=this;G.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){if(0===t.data.resultCode){var s=t.data.data,n=s.id,a=s.email,c=s.login;e.props.setAuthUserData(n,a,c)}}))}},{key:"render",value:function(){return Object(u.jsx)(je,{isAuth:this.props.isAuth,login:this.props.login})}}]),s}(a.a.Component),ge=Object(_.b)((function(e){return{isAuth:e.Auth.isAuth,login:e.Auth.login}}),{setAuthUserData:function(e,t,s){return{type:"SET-USER-DATA",data:{userId:e,email:t,login:s}}}})(Oe);var he=function(e){return e.store.getState(),Object(u.jsx)(r.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(ge,{}),Object(u.jsx)(j,{}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(d.a,{path:"/profile/:userId?",render:function(){return Object(u.jsx)(oe,{})}}),Object(u.jsx)(d.a,{path:"/dialogs",render:function(){return Object(u.jsx)(I,{})}}),Object(u.jsx)(d.a,{path:"/news",render:function(){return Object(u.jsx)(b,{})}}),Object(u.jsx)(d.a,{path:"/users",render:function(){return Object(u.jsx)(J,{})}}),Object(u.jsx)(d.a,{path:"/music",render:function(){return Object(u.jsx)(g,{})}}),Object(u.jsx)(d.a,{path:"/settings",render:function(){return Object(u.jsx)(O,{})}})]})]})})},pe=s(31),me=Object(pe.a)({ProfilePage:x,DialogsPage:P,UsersPage:L,SideBar:C,Auth:be}),fe=Object(pe.b)(me);i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(_.a,{store:fe,children:Object(u.jsx)(he,{dispatch:fe.dispatch.bind(fe),store:fe})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.e821da65.chunk.js.map